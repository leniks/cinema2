# üé¨ –û—Ç—á–µ—Ç: –ó–∞–≥—Ä—É–∑–∫–∞ 1000 —Ñ–∏–ª—å–º–æ–≤ —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏ –≤ S3

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –û—á–∏—Å—Ç–∫–∞ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

-   –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç `clear_s3_auto.py`
-   S3 bucket `cinema-files` –±—ã–ª —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω
-   –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞

### ‚úÖ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è 1000 —Ñ–∏–ª—å–º–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `s3_filling_with_posters.py`:

```python
MAX_TOTAL_SIZE = 5 * 1024 * 1024 * 1024  # 5 –ì–ë (—É–≤–µ–ª–∏—á–µ–Ω–æ —Å 1 –ì–ë)
MAX_MOVIES = 1000  # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 50
```

### ‚úÖ 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–ª—å–º–æ–≤ —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏

-   **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∏–ª—å–º–æ–≤**: 123 –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
-   **–ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ñ–∞–π–ª–æ–≤**: 368 —Ñ–∞–π–ª–æ–≤
-   **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä**: 22.41 MB
-   **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –º–µ—Å—Ç–∞**: 0.45% –æ—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö 5 –ì–ë

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:

-   **–ü–æ—Å—Ç–µ—Ä** (`poster.jpg`) - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ TMDB API
-   **–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** (`backdrop.jpg`) - —à–∏—Ä–æ–∫–æ—Ñ–æ—Ä–º–∞—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
-   **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** (`metadata.json`) - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–∫–∏ —Ñ–∏–ª—å–º–∞:

```
movies/
‚îú‚îÄ‚îÄ 1/
‚îÇ   ‚îú‚îÄ‚îÄ poster.jpg (62.3 KB)
‚îÇ   ‚îú‚îÄ‚îÄ backdrop.jpg (125.6 KB)
‚îÇ   ‚îî‚îÄ‚îÄ metadata.json (1.0 KB)
‚îú‚îÄ‚îÄ 2/
‚îÇ   ‚îú‚îÄ‚îÄ poster.jpg
‚îÇ   ‚îú‚îÄ‚îÄ backdrop.jpg
‚îÇ   ‚îî‚îÄ‚îÄ metadata.json
‚îî‚îÄ‚îÄ ...
```

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TMDB API

### –£—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

-   **–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤**: –í—Å–µ 123 —Ñ–∏–ª—å–º–∞ –Ω–∞–π–¥–µ–Ω—ã –≤ –±–∞–∑–µ TMDB
-   **–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–µ—Ä–æ–≤**: 123 –ø–æ—Å—Ç–µ—Ä–∞ (w500 –∫–∞—á–µ—Å—Ç–≤–æ)
-   **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–æ–≤**: 122 —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (w1280 –∫–∞—á–µ—Å—Ç–≤–æ)
-   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –°–∂–∞—Ç–∏–µ JPEG —Å –∫–∞—á–µ—Å—Ç–≤–æ–º 75%

### –û–±—Ä–∞–∑–µ—Ü –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö:

```json
{
    "id": 1,
    "title": "The Shawshank Redemption",
    "tmdb_id": 278,
    "tmdb_vote_average": 8.71,
    "poster_url": "http://localhost:9000/cinema-files/movies/1/poster.jpg",
    "backdrop_url": "http://localhost:9000/cinema-files/movies/1/backdrop.jpg"
}
```

## üóÇÔ∏è –•—Ä–∞–Ω–∏–ª–∏—â–µ MinIO

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

-   **Endpoint**: http://localhost:9000
-   **Console**: http://localhost:9001
-   **Bucket**: cinema-files
-   **Credentials**: minioadmin / minioadmin123

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

-   **–í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤**: 368
-   **–†–∞–∑–º–µ—Ä**: 22.41 MB
-   **–§–∏–ª—å–º–æ–≤ —Å –ø–æ—Å—Ç–µ—Ä–∞–º–∏**: 123
-   **–°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –Ω–∞ —Ñ–∏–ª—å–º**: ~187 KB

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
2. –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (123 —à—Ç.)
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–µ—Ä–æ–≤ –∏–∑ TMDB
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

-   **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏**: ~2.5 —Ñ–∏–ª—å–º–∞ –≤ –º–∏–Ω—É—Ç—É
-   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –°—Ä–µ–¥–Ω—è—è —ç–∫–æ–Ω–æ–º–∏—è 15-20% —Ä–∞–∑–º–µ—Ä–∞
-   **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: 100% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
-   **API –ª–∏–º–∏—Ç—ã**: –°–æ–±–ª—é–¥–µ–Ω—ã (0.5 —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏)

## üîÑ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è 877 —Ñ–∏–ª—å–º–æ–≤ –¥–æ —Ü–µ–ª–µ–≤—ã—Ö 1000:

-   –£–≤–µ–ª–∏—á–µ–Ω –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–æ 5 –ì–ë
-   –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
-   –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
-   –î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

## üåê –î–æ—Å—Ç—É–ø –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

-   **MinIO Console**: http://localhost:9001
-   **API**: http://localhost:9000/cinema-files/
-   **–ü—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–µ—Ä–∞**: http://localhost:9000/cinema-files/movies/1/poster.jpg
-   **–ü—Ä–∏–º–µ—Ä —Ñ–æ–Ω–∞**: http://localhost:9000/cinema-files/movies/1/backdrop.jpg

---

_–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω: $(date)_
_–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~50 –º–∏–Ω—É—Ç_
